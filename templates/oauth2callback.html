{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="text-center">
        <h3>Google Drive Authentication</h3>
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-3">Please wait while we complete the authentication...</p>
    </div>
</div>

{% block scripts %}
<script>
    window.onload = function() {
        if (window.opener) {
            window.opener.postMessage({ type: 'oauth-complete' }, window.location.origin);
            window.close();
        } else {
            window.location.href = "{{ url_for('sender_secure_upload') }}";
        }
    };
</script>
{% endblock %}
{% endblock %}
